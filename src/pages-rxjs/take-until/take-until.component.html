<div class="page-header">
    <h1 class="title">TakeUntil</h1>
    <a class="link-rxjs" href="https://rxjs.dev/api/operators/takeUntil" target="_blank">rxjs takeUntil â¡ï¸</a>
</div>

<p>
    Este operador deja pasar los elementos del Observable fuente hasta que otro
    Observable, el notificador, emite algÃºn valor.
</p>

<textarea highlight-js [lang]="'typescript'">
import { Observable, takeUntil } from 'rxjs';

const notifier = new Observable((suscriber) => {
  setTimeout(() => suscriber.next('âœŠ'), 500);
});

new Observable((suscriptor) => {
  setTimeout(() => suscriptor.next('ğŸ'), 100);
  setTimeout(() => suscriptor.next('ğŸŒ'), 200);
  setTimeout(() => suscriptor.next('ğŸ†'), 300);
  setTimeout(() => suscriptor.next('ğŸ¥¦'), 600);
})
  .pipe(takeUntil(notifier))
  .subscribe({
    next: (value) => console.log(`The next value is: ${value}`),
    error: (error) => console.error(`There is an error: ${error}`),
    complete: () => console.log('Completed'),
  });

// Output
// The next value is: ğŸ
// The next value is: ğŸŒ
// The next value is: ğŸ†
// Completed
</textarea>

<p>
    Pues vamos a explicar el ejemplo. Tenemos dos Observables en juego. El primero de ellos es el notificador. Este
    Observable nos dice hasta cuando el Observable fuente puede emitir elementos. En nuesto caso serÃ¡ hasta que pasen
    500 milisegundos.
    <br>
    El segundo Observable es el Observable fuente. Este simplemente emite primero una ğŸ en el milisegundo 100. DespuÃ©s
    emite un ğŸŒ. A los 300 milisegundos emite un ğŸ†. DespuÃ©s pasan 200 milisegundos mÃ¡s y el notificador emite el âœŠ, por
    lo tanto el Observable fuente completa y el ğŸ¥¦ es ignorado, no se entrega al suscriptor.
</p>

<p>Pruebalo en esta demo tÃº mismo:</p>